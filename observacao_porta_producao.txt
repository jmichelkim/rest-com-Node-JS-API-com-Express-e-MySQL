const customExpress = require('./config/customExpress')
const conexao = require('./infraestrutura/conexao')
const Tabelas = require('./infraestrutura/tabelas')

conexao.connect(erro => {

    if(erro){

        console.log(erro)

    } else {

        console.log('Conectado ao banco de dados com sucesso.')

        Tabelas.init(conexao)

        const app = customExpress()

        // Para usar o servidor em desenvolvimento utilizar esta linha
        app.listen(3000, () => console.log('Servidor on line na porta 3000.'))

        // Para utilizar o servidor em prd no Heroku, utilizar esta linha
        // app.listen(process.env.PORT, () => console.log(`Servidor on line na porta ???.`))

    }
})


// Aqui temos um script para alterar manipular um bd no mysql, ou qualquer outro banco desde
// que realizadas as devidas alterações.